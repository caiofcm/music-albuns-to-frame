!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e){function n(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var i=r(o);return[n].concat(o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"})).concat([i]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=h[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(l(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(l(r.parts[i],e));h[r.id]={id:r.id,refs:1,parts:a}}}}function o(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s=i[1],u=i[2],c=i[3],l={css:s,media:u,sourceMap:c};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}function i(t,e){var n=v(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=w[w.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),w.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=v(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,o)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),i(t,e),e}function u(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),i(t,e),e}function c(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function l(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var c=y++;n=b||(b=s(e)),r=f.bind(null,n,c,!1),o=f.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),r=p.bind(null,n,e),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=d.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function f(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=k(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function d(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=x(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var h={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),g=function(t){return document.querySelector(t)},v=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=g.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),b=null,y=0,w=[],x=n(10);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=m()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=o(t,e);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var s=n[a],u=h[s.id];u.refs--,i.push(u)}if(t){r(o(t,e),e)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete h[u.id]}}}};var k=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){"use strict";function r(){for(var t={},e=void 0,n=/([^&;=]+)=?([^&;]*)/g,r=window.location.hash.substring(1);e=n.exec(r);)t[e[1]]=decodeURIComponent(e[2]);return t}function o(){var t={headers:{Authorization:"'Bearer "+c.token+" '"}};return fetch(c.apiURL+"/me/top/tracks",t).then(function(t){return t.json()})}function i(){l.addEventListener("click",function(){window.location.href=f.URL})}function a(){return c}Object.defineProperty(e,"__esModule",{value:!0}),e.fetchUserTopTracks=e.getSpotifyAPIObject=e.fetchAPITokenFromBackEnd=void 0;var s=n(12),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=void 0,l=document.getElementById("trigger-auth"),f={URL:"http://localhost:8888/login"};window.onload=function(){var t=r();t.access_token&&(c=new u.default({token:t.access_token}),o())},e.fetchAPITokenFromBackEnd=i,e.getSpotifyAPIObject=a,e.fetchUserTopTracks=o},function(t,e,n){"use strict";function r(t){t.classList.add("grab"),(0,s.setTimeout)(function(){c.appendChild(t),t.classList.remove("grab")},400)}function o(t){u.prepend(t)}function i(){return Array.from(c.children).map(function(t){return{urls:[t.getAttribute("data-album-640"),t.getAttribute("data-album-300"),t.querySelector("img").getAttribute("src")]}})}function a(){u.addEventListener("click",function(t){t.preventDefault(),r(t.target.closest(".list-item"))}),c.addEventListener("click",function(t){t.preventDefault(),o(t.target.closest(".list-item"))})}Object.defineProperty(e,"__esModule",{value:!0}),e.getSelectedPhotos=e.selectionOfAlbums=void 0;var s=n(19),u=document.getElementById("album-list"),c=document.getElementById("selected-box");e.selectionOfAlbums=a,e.getSelectedPhotos=i},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n(6);var o=n(11),i=r(o),a=n(3),s=n(2),u=n(22),c=r(u),l=n(26),f=r(l);console.log("Application started"),(0,s.fetchAPITokenFromBackEnd)(),(0,i.default)(),(0,a.selectionOfAlbums)(),(0,c.default)(),(0,f.default)()},function(t,e,n){var r=n(7);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0};o.transform=void 0,o.insertInto=void 0;n(1)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(8);e=t.exports=n(0)(!1),e.push([t.i,"\n/* body {\n  box-sizing: border-box;\n} */\n\n  /* background: #627d4d;\n  background: -moz-linear-gradient(top, #627d4d 0%, #1f3b08 100%);\n  background: -webkit-linear-gradient(top, #627d4d 0%,#1f3b08 100%);\n  background: linear-gradient(to bottom, #627d4d 0%,#1f3b08 100%);\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#627d4d', endColorstr='#1f3b08',GradientType=0 );\n*/\n\nheader {\n  padding: 100px 0;\n  text-align: center;\n  color: white;\n  text-shadow: 1px 1px 2px black;\n  height: 500px;\n  background-image: url("+r(n(9))+');\n  background-size: cover;\n}\n\n.blur {\n  background-color: black;\n  opacity: 0.8;\n  border-radius: 40%;\n  /* width: 700px; */\n  margin: 0 auto;\n  padding: 30px;\n}\n\nheader h1 {\n  font-size: 4rem;\n  margin-bottom: 40px;\n}\n\nsection.selection {\n  /* height: 400px; */\n  text-align: center;\n  padding-top: 120px;\n}\n\n.box-images {\n  background: #0f1015;\n  box-shadow: 15px 0px 15px #0f1015;\n  height: 300px;\n  width: 100vw;\n  overflow-x: scroll;\n  margin: 60px 0;\n  /* z-index: 999999; */\n  display: flex;\n  color: white;\n}\n\n.form-wrapper {\n  margin: 35px auto;\n}\n\n.form-search {\n  border-top: 2px solid rgb(0, 0, 0);\n  border-bottom: 2px solid rgb(0, 0, 0);\n  display: flex;\n  margin: 0 auto;\n  width: 45vw;\n  /* min-width: 200px; */\n  align-items: center;\n}\n\n@media (max-width: 600px) {\n  .form-search {\n    width: 100vw;\n   }\n}\n\n@media (max-width: 1200px) {\n  header {\n    padding-top: 5px;\n  }\n  header h1 {\n    font-size: 2rem;\n  }\n    header h2 {\n    font-size: 1.5rem;\n  }\n}\n\n.form-input {\n  border: none;\n  text-align: center;\n  background: none;\n  font-size: 1.2rem;\n  font-weight: bold;\n  margin: 0;\n  outline: 0;\n  padding: 12px 0px;\n  flex: 1 2 80%;\n}\n\n.svg-search {\n  text-align: center;\n  flex: 1 1 25%;\n  padding: 0;\n  margin: 0;\n}\n\n.form-input:focus {\n  color: #1ed760;\n}\n\n.form-input:focus + .form-icon {\n  color: #1ed760;\n}\n\n.form-icon {\n  cursor: pointer;\n  width: 22px;\n}\n\n#search-form input[type="submit"] {\n  display: none;\n}\n\n.list-item {\n  cursor: pointer;\n  display: flex;\n  /* align-items: center; */\n  flex-direction: column;\n  min-height: 70px;\n  max-width: 100;\n  opacity: .6;\n  padding: 10px 20px;\n  transition: all .4s;\n}\n\n.list-item:nth-of-type(even) {\n  background: rgba(29, 32, 40, 0.61);\n}\n\n.list-item:hover {\n  opacity: 0.3;\n}\n\n.grab {\n  position: relative;\n  padding-top: 320px;\n  opacity: 0;\n  background: green !important;\n}\n\n.item-selected {\n  box-shadow: 0 0 5px rgba(81, 203, 238, 1);\n  padding: 3px 0px 3px 3px;\n  margin: 5px 1px 3px 0px;\n  border: 1px solid rgba(81, 203, 238, 1);\n}\n\n.list-image {\n  height: 150px;\n  width: 150px;\n  /* margin-right: 10px; */\n}\n\n.list-title {\n  display: block;\n  color: #fff;\n}\n\n.btn-circle {\n  display: inline-block;\n  position: relative;\n  text-align: center;\n  top: 85px;\n  border-radius: 50%;\n  width: 150px;\n  height: 150px;\n  background-color: #0f1015;\n  padding: 15px 5px 2px 2px;\n  font-size: 72px;\n  line-height: 45px;\n  -webkit-transition: background 0.3s ease-in-out;\n  -moz-transition: background 0.3s ease-in-out;\n  transition: background 0.3s ease-in-out;\n  color: white;\n  cursor: pointer;\n  /* border-top: 2px solid black; */\n  /* border-bottom: 2px solid white; */\n}\n.btn-circle p {\n  font-size: 1.3rem;\n  padding: 0px;\n  margin: 0px;\n}\n\n/* @media (max-width: 600px) {\n  .btn-circle {\n    position: static;\n    border-radius: 5%;\n    padding: 0;\n    display: flex;\n    width: 120px;\n    height: 60px;\n    padding: 10px;\n    justify-content: space-around;\n    margin: 0 auto;\n    background-color: rgba(3, 78, 13, 0.8);\n  }\n} */\n\n.btn-circle:focus, .btn-circle:hover {\n  color: white;\n  outline: none;\n  background: rgba(3, 78, 13, 0.8);\n}\n\nsvg.spotify-icon {\n  font-size: 0.1rem;\n  width: 42px;\n}\n\n.btn {\n  cursor: pointer;\n  background-color: #0f1015;\n  color: white;\n}\n\n.btn:focus, .btn:hover {\n  outline: none;\n  background: rgba(3, 78, 13, 0.8);\n}\n\nsection.presentation {\n  background-image: linear-gradient(rgb(70, 76, 82), rgb(7, 7, 8) 85%);\n  margin-top: 0px;\n  /* height: 400px; */\n  padding-top: 120px;\n  padding: 120px 40px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-content: space-between;\n}\n\n.adjusts {\n  color: white;\n  width: 200px;\n  font-weight: 600;\n  padding-right: 30px;\n}\n\n.frame {\n  border: 3px solid black;\n  flex: 2 2 500px;\n}\n\n.spacer-btn {\n  flex-basis: 90%;\n  order: -2;\n}\n.btn-download {\n  flex-basis: 30px;\n}\n@media (max-width: 815px) {\n  .btn-download {\n    order: 1;\n  }\n}\n\nfooter {\n  background: black;\n  color: white;\n  font-weight: 700;\n  text-align: center;\n}\nfooter .git-icon {\n  color: white;\n  font-size: 1.3rem;\n}\n.git-icon:focus, .git-icon:hover {\n  color: green;\n  opacity: 0.7;\n}\n',""])},function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},function(t,e,n){t.exports=n.p+"e49e5a1dea211cb1f5cb363a149d1f2b.png"},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o))return t;var i;return i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}},function(t,e,n){"use strict";function r(){return!!h&&!!h.token}function o(t){return t.items.map(function(t){return t.album.artists=t.artists,t.album})}function i(){d.addEventListener("submit",function(t){h=(0,a.getSpotifyAPIObject)(),t.preventDefault(),r()?h.search.albums(f.value).then(function(t){return(0,s.renderAlbums)(t.albums.items,l)}):(console.log("Unauthorized!"),(0,c.default)("Unauthorized! Login to Spotify first."))}),p.addEventListener("click",function(t){t.preventDefault(),(0,a.fetchUserTopTracks)().then(function(t){return o(t)}).then(function(t){return(0,s.renderAlbums)(t,l)}).catch(function(t){(0,c.default)(t)})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var a=n(2),s=n(17),u=n(18),c=function(t){return t&&t.__esModule?t:{default:t}}(u),l=document.getElementById("album-list"),f=document.getElementById("search-input"),d=document.getElementById("search-form"),p=document.getElementById("btn-track"),h=null},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(13),s=r(a),u=n(14),c=r(u),l=n(15),f=n(16),d=r(f),p=function(){function t(e){o(this,t),this.apiURL=e.apiURL||l.API_URL,this.token=e.token,this.album=c.default.bind(this)(),this.search=s.default.bind(this)()}return i(t,[{key:"request",value:function(t){var e={headers:{Authorization:"'Bearer "+this.token+"'"}};return fetch(t,e).then(d.default)}}]),t}();e.default=p},function(t,e,n){"use strict";function r(t,e){return this.request(this.apiURL+"/search?q="+e+"&type="+t)}function o(){return{artists:r.bind(this,"artist"),albums:r.bind(this,"album"),tracks:r.bind(this,"track"),playlists:r.bind(this,"playlist")}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},function(t,e,n){"use strict";function r(){var t=this;return{getAlbum:function(e){return t.request(t.apiURL+"/albums/"+e)},getAlbums:function(e){return t.request(t.apiURL+"/albums/?ids="+e)},getTracks:function(e){return t.request(t.apiURL+"/albums/"+e+"/tracks")}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.API_URL="https://api.spotify.com/v1"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return t.json()};e.default=r},function(t,e,n){"use strict";function r(t){return'\n    <div class="list-item" data-album-id="'+t.id+'"\n      data-album-640="'+t.images[0].url+'"\n      data-album-300="'+t.images[1].url+'">\n      <img src="'+t.images[2].url+'" alt="'+t.name+'" class="list-image">\n      <div class="list-description">\n        <p class="list-title">'+t.name+'</p>\n        <p class="list-subtitle">'+t.artists[0].name+"</p>\n      </div>\n    </div>"}function o(t){return 0===t.length?"No album was found":t.map(function(t){return r(t)}).join("")}function i(t,e){var n=o(t);e.innerHTML=n}Object.defineProperty(e,"__esModule",{value:!0}),e.singleItemMarkup=r,e.renderAlbums=i},function(t,e,n){"use strict";function r(t){return"<font> "+t+" </font>"}function o(t,e){var n={background:"#f44336",position:"fixed",bottom:"5%",left:"50%"};"danger"===e&&(n.background="#f44336"),"info"===e&&(n.background="blue"),"success"===e&&(n.background="green"),"warnning"===e&&(n.background="yellow"),Object.keys(n).forEach(function(t){i.style[t]=n[t]}),i.style.display="block",i.innerHTML=r(t),setTimeout(function(){i.style.display="none"},2e3)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=document.getElementById("alert-box")},function(t,e,n){(function(t){function r(t,e){this._id=t,this._clearFn=e}var o=Function.prototype.apply;e.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(20),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,n(4))},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[u]=r,s(u),u++}function o(t){delete c[t]}function i(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(l)setTimeout(a,0,t);else{var e=c[t];if(e){l=!0;try{i(e)}finally{o(t),l=!1}}}}if(!t.setImmediate){var s,u=1,c={},l=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var t=f.documentElement;s=function(e){var n=f.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),d.setImmediate=r,d.clearImmediate=o}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(4),n(21))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){m&&p&&(m=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!m){var t=o(a);m=!0;for(var e=h.length;e;){for(p=h,h=[];++g<e;)p&&p[g].run();g=-1,e=h.length}p=null,m=!1,i(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,h=[],m=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new u(t,e)),1!==h.length||m||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){"use strict";function r(){var t=(0,i.getSelectedPhotos)();$("#frame").empty().justifiedImages({images:t,rowHeight:s.value,maxRowHeight:u.value,thumbnailPath:function(t,e,n){var r=t.urls[1];return(e>600||n>600)&&(r=t.urls[0]),(e>250||n>250)&&(r=t.urls[1]),(e<100||n<100)&&(r=t.urls[2]),r},getSize:function(){return{width:1,height:1}},margin:c.value})}function o(){a.addEventListener("submit",function(t){t.preventDefault(),r()}),window.addEventListener("resize",function(){r()})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o,n(23),n(25);var i=n(3),a=document.getElementById("grid-form"),s=document.getElementById("minHeight"),u=document.getElementById("maxHeight"),c=document.getElementById("margin")},function(t,e,n){var r=n(24);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0};o.transform=void 0,o.insertInto=void 0;n(1)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(0)(!1),e.push([t.i,".image-container{\n    position: relative;\n}\n.photo-container{\n    float: left;\n    position: relative;\n    overflow: hidden;\n}\n.image-thumb{\n    position: relative;\n    background-color: #eee;\n}\n",""])},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e,n,o){function i(e,n){this.element=e,this.$el=t(e),this._name=a,this.init(n)}var a="justifiedImages";i.prototype={defaults:{template:function(t){return'<div class="photo-container" style="height:'+t.displayHeight+"px;margin-right:"+t.marginRight+'px;"><img class="image-thumb" src="'+t.src+'" style="width:'+t.displayWidth+"px;height:"+t.displayHeight+'px;" ></div>'},appendBlocks:function(){return[]},rowHeight:150,maxRowHeight:350,handleResize:!1,margin:1,imageSelector:"image-thumb",imageContainer:"photo-container"},init:function(e){this.options=t.extend({},this.defaults,e),this.displayImages(),this.options.handleResize&&this.handleResize()},getBlockInRow:function(t){for(var e=this.options.appendBlocks(),n=0;n<e.length;n++){var r=e[n];if(r.rowNum===t)return r}},displayImages:function(){var e=this,n=[],r=0,o=0,i=this.options.images.length,a=this.options.images,s=[],u=0,c=this.options.appendBlocks(),l=this.$el.width(),f=parseInt(this.options.margin,10),d=this.$el,p=parseInt(this.options.rowHeight,10);t.each(this.options.images,function(t,r){var o=e.options.getSize(r),i=parseInt(o.width,10),a=parseInt(o.height,10);a!==p&&(i=Math.floor(i*(p/a))),u+=i,n.push(i)}),t.each(c,function(t,e){u+=e.width});for(var h=u/Math.ceil(u/l),m=0;o<i;){var g={width:0,photos:[]},v=0,b=this.getBlockInRow(s.length+1);for(b&&(g.width+=b.width,m+=b.width);m+n[o+v]/2<=h*(s.length+1)&&o+v<i;)m+=n[o+v],g.width+=n[o+v],g.photos.push({width:n[o+v],photo:a[o+v]}),v++;o+=v,s.push(g)}for(var y=0;y<s.length;y++){var g=s[y],w=!1;if(r=y+1,this.options.maxRows&&r>this.options.maxRows)break;y===s.length-1&&(w=!0),m=-1*f;var x=this.getBlockInRow(w?-1:r),k=l;x&&(k-=x.width,m=0);var T=k/g.width,v=g.photos.length,I=Math.min(Math.floor(p*T),parseInt(this.options.maxRowHeight,10));T=I/this.options.rowHeight;var E=t("<div/>",{class:"picrow"});E.height(I+f),d.append(E);for(var P="",A=0;A<g.photos.length;A++){var L=g.photos[A].photo,S=Math.floor(g.photos[A].width*T);m+=S+f,P+=this.renderPhoto(L,{src:this.options.thumbnailPath(L,S,I),width:S,height:I},!x&&A===g.photos.length-1)}if(""!==P){if(E.html(P),Math.abs(m-k)<.05*k){for(var j=0;m<k;){var R=E.find("."+this.options.imageContainer+":nth-child("+(j+1)+")"),_=R.find("."+this.options.imageSelector);_.width(_.width()+1),j=(j+1)%v,m++}for(j=0;m>k;){var O=E.find("."+this.options.imageContainer+":nth-child("+(j+1)+")"),U=O.find("."+this.options.imageSelector);U.width(U.width()-1),j=(j+1)%v,m--}}else if(k-m>.05*k)for(var M=k-m,B=0,C=E.find("."+this.options.imageContainer),N=0,z=0;z<C.length;z++){var D=M/C.length,H=C.eq(z),F=H.find("."+this.options.imageSelector),$=F.width(),q=F.height();y===C.length-1&&(D=M-B),F.width($+D),F.height(q/$*($+D)),N=(q-F.height())/2,F.css("margin-top",N),B+=D}x&&t("<div />",{class:this.options.imageContainer+" added-block",css:{width:x.width,height:I},html:x.html}).appendTo(E)}else E.remove()}},renderPhoto:function(e,n,r){var o,i={};return o=t.extend({},e,{src:n.src,displayWidth:n.width,displayHeight:n.height,marginRight:r?0:this.options.margin}),this.options.dataObject?i[this.options.dataObject]=o:i=o,this.options.template(i)},handleResize:function(){},refresh:function(e){this.options=t.extend({},this.defaults,e),this.$el.empty(),this.displayImages()}},t.fn[a]=function(e){var n,o=arguments;return this.each(function(){var s=t(this),u=t.data(this,"plugin_"+a),c="object"===(void 0===e?"undefined":r(e))&&e;u?"string"==typeof e?n=u[e].apply(u,Array.prototype.slice.call(o,1)):u.refresh.call(u,c):s.data("plugin_"+a,u=new i(this,c))}),n||this}}(jQuery,window,document)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){c.addEventListener("click",function(){u.default.toBlob(l).then(function(t){a.default.saveAs(t,"album_frame.png")}).catch(function(t){console.error("oops, something went wrong!",t)})})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=n(27),a=r(i),s=n(30),u=r(s),c=document.getElementById("btn-download"),l=document.getElementById("frame")},function(t,e,n){var r,o=o||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,i=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},c=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,4e4)},l=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var o=t["on"+e[r]];if("function"==typeof o)try{o.call(t,n||t)}catch(t){u(t)}}},f=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},d=function(e,u,d){d||(e=f(e));var p,h=this,m=e.type,g="application/octet-stream"===m,v=function(){l(h,"writestart progress write writeend".split(" "))};if(h.readyState=h.INIT,o)return p=n().createObjectURL(e),void setTimeout(function(){r.href=p,r.download=u,i(r),v(),c(p),h.readyState=h.DONE});!function(){if((s||g&&a)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,h.readyState=h.DONE,v()},r.readAsDataURL(e),void(h.readyState=h.INIT)}if(p||(p=n().createObjectURL(e)),g)t.location.href=p;else{t.open(p,"_blank")||(t.location.href=p)}h.readyState=h.DONE,v(),c(p)}()},p=d.prototype,h=function(t,e,n){return new d(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=f(t)),navigator.msSaveOrOpenBlob(t,e)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,h)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports?t.exports.saveAs=o:null!==n(28)&&null!==n(29)&&void 0!==(r=function(){return o}.call(e,n,e,t))&&(t.exports=r)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){!function(e){"use strict";function n(t,e){function n(t){return e.bgcolor&&(t.style.backgroundColor=e.bgcolor),e.width&&(t.style.width=e.width+"px"),e.height&&(t.style.height=e.height+"px"),e.style&&Object.keys(e.style).forEach(function(n){t.style[n]=e.style[n]}),t}return e=e||{},s(e),Promise.resolve(t).then(function(t){return c(t,e.filter,!0)}).then(l).then(f).then(n).then(function(n){return d(n,e.width||p.width(t),e.height||p.height(t))})}function r(t,e){return u(t,e||{}).then(function(e){return e.getContext("2d").getImageData(0,0,p.width(t),p.height(t)).data})}function o(t,e){return u(t,e||{}).then(function(t){return t.toDataURL()})}function i(t,e){return e=e||{},u(t,e).then(function(t){return t.toDataURL("image/jpeg",e.quality||1)})}function a(t,e){return u(t,e||{}).then(p.canvasToBlob)}function s(t){void 0===t.imagePlaceholder?b.impl.options.imagePlaceholder=v.imagePlaceholder:b.impl.options.imagePlaceholder=t.imagePlaceholder,void 0===t.cacheBust?b.impl.options.cacheBust=v.cacheBust:b.impl.options.cacheBust=t.cacheBust}function u(t,e){function r(t){var n=document.createElement("canvas");if(n.width=e.width||p.width(t),n.height=e.height||p.height(t),e.bgcolor){var r=n.getContext("2d");r.fillStyle=e.bgcolor,r.fillRect(0,0,n.width,n.height)}return n}return n(t,e).then(p.makeImage).then(p.delay(100)).then(function(e){var n=r(t);return n.getContext("2d").drawImage(e,0,0),n})}function c(t,e,n){function r(t){return t instanceof HTMLCanvasElement?p.makeImage(t.toDataURL()):t.cloneNode(!1)}function o(t,e,n){var r=t.childNodes;return 0===r.length?Promise.resolve(e):function(t,e,n){var r=Promise.resolve();return e.forEach(function(e){r=r.then(function(){return c(e,n)}).then(function(e){e&&t.appendChild(e)})}),r}(e,p.asArray(r),n).then(function(){return e})}function i(t,e){function n(){!function(t,e){t.cssText?e.cssText=t.cssText:function(t,e){p.asArray(t).forEach(function(n){e.setProperty(n,t.getPropertyValue(n),t.getPropertyPriority(n))})}(t,e)}(window.getComputedStyle(t),e.style)}function r(){function n(n){var r=window.getComputedStyle(t,n),o=r.getPropertyValue("content");if(""!==o&&"none"!==o){var i=p.uid();e.className=e.className+" "+i;var a=document.createElement("style");a.appendChild(function(t,e,n){var r="."+t+":"+e,o=n.cssText?function(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}(n):function(t){function e(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}return p.asArray(t).map(e).join("; ")+";"}(n);return document.createTextNode(r+"{"+o+"}")}(i,n,r)),e.appendChild(a)}}[":before",":after"].forEach(function(t){n(t)})}function o(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function i(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach(function(t){var n=e.getAttribute(t);n&&e.style.setProperty(t,n)}))}return e instanceof Element?Promise.resolve().then(n).then(r).then(o).then(i).then(function(){return e}):e}return n||!e||e(t)?Promise.resolve(t).then(r).then(function(n){return o(t,n,e)}).then(function(e){return i(t,e)}):Promise.resolve()}function l(t){return m.resolveAll().then(function(e){var n=document.createElement("style");return t.appendChild(n),n.appendChild(document.createTextNode(e)),t})}function f(t){return g.inlineAll(t).then(function(){return t})}function d(t,e,n){return Promise.resolve(t).then(function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)}).then(p.escapeXhtml).then(function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"}).then(function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+n+'">'+t+"</svg>"}).then(function(t){return"data:image/svg+xml;charset=utf-8,"+t})}var p=function(){function t(){var t="application/font-woff";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function e(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function n(n){var r=e(n).toLowerCase();return t()[r]||""}function r(t){return-1!==t.search(/^(data:)/)}function o(t){return new Promise(function(e){for(var n=window.atob(t.toDataURL().split(",")[1]),r=n.length,o=new Uint8Array(r),i=0;i<r;i++)o[i]=n.charCodeAt(i);e(new Blob([o],{type:"image/png"}))})}function i(t){return t.toBlob?new Promise(function(e){t.toBlob(e)}):o(t)}function a(t,e){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var o=n.createElement("a");return n.body.appendChild(o),r.href=e,o.href=t,o.href}function s(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src=t})}function u(t){var e=3e4;return b.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime()),new Promise(function(n){function r(){if(4===a.readyState){if(200!==a.status)return void(s?n(s):i("cannot fetch resource: "+t+", status: "+a.status));var e=new FileReader;e.onloadend=function(){var t=e.result.split(/,/)[1];n(t)},e.readAsDataURL(a.response)}}function o(){s?n(s):i("timeout of "+e+"ms occured while fetching resource: "+t)}function i(t){console.error(t),n("")}var a=new XMLHttpRequest;a.onreadystatechange=r,a.ontimeout=o,a.responseType="blob",a.timeout=e,a.open("GET",t,!0),a.send();var s;if(b.impl.options.imagePlaceholder){var u=b.impl.options.imagePlaceholder.split(/,/);u&&u[1]&&(s=u[1])}})}function c(t,e){return"data:"+e+";base64,"+t}function l(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function f(t){return function(e){return new Promise(function(n){setTimeout(function(){n(e)},t)})}}function d(t){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}function p(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")}function h(t){var e=g(t,"border-left-width"),n=g(t,"border-right-width");return t.scrollWidth+e+n}function m(t){var e=g(t,"border-top-width"),n=g(t,"border-bottom-width");return t.scrollHeight+e+n}function g(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}return{escape:l,parseExtension:e,mimeType:n,dataAsUrl:c,isDataUrl:r,canvasToBlob:i,resolveUrl:a,getAndEncode:u,uid:function(){var t=0;return function(){return"u"+function(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}()+t++}}(),delay:f,asArray:d,escapeXhtml:p,makeImage:s,width:h,height:m}}(),h=function(){function t(t){return-1!==t.search(o)}function e(t){for(var e,n=[];null!==(e=o.exec(t));)n.push(e[1]);return n.filter(function(t){return!p.isDataUrl(t)})}function n(t,e,n,r){function o(t){return new RegExp("(url\\(['\"]?)("+p.escape(t)+")(['\"]?\\))","g")}return Promise.resolve(e).then(function(t){return n?p.resolveUrl(t,n):t}).then(r||p.getAndEncode).then(function(t){return p.dataAsUrl(t,p.mimeType(e))}).then(function(n){return t.replace(o(e),"$1"+n+"$3")})}function r(r,o,i){return function(){return!t(r)}()?Promise.resolve(r):Promise.resolve(r).then(e).then(function(t){var e=Promise.resolve(r);return t.forEach(function(t){e=e.then(function(e){return n(e,t,o,i)})}),e})}var o=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:r,shouldProcess:t,impl:{readUrls:e,inline:n}}}(),m=function(){function t(){return e(document).then(function(t){return Promise.all(t.map(function(t){return t.resolve()}))}).then(function(t){return t.join("\n")})}function e(){function t(t){return t.filter(function(t){return t.type===CSSRule.FONT_FACE_RULE}).filter(function(t){return h.shouldProcess(t.style.getPropertyValue("src"))})}function e(t){var e=[];return t.forEach(function(t){try{p.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(e){console.log("Error while reading CSS rules from "+t.href,e.toString())}}),e}function n(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return h.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}return Promise.resolve(p.asArray(document.styleSheets)).then(e).then(t).then(function(t){return t.map(n)})}return{resolveAll:t,impl:{readAll:e}}}(),g=function(){function t(t){function e(e){return p.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||p.getAndEncode).then(function(e){return p.dataAsUrl(e,p.mimeType(t.src))}).then(function(e){return new Promise(function(n,r){t.onload=n,t.onerror=r,t.src=e})})}return{inline:e}}function e(n){return n instanceof Element?function(t){var e=t.style.getPropertyValue("background");return e?h.inlineAll(e).then(function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))}).then(function(){return t}):Promise.resolve(t)}(n).then(function(){return n instanceof HTMLImageElement?t(n).inline():Promise.all(p.asArray(n.childNodes).map(function(t){return e(t)}))}):Promise.resolve(n)}return{inlineAll:e,impl:{newImage:t}}}(),v={imagePlaceholder:void 0,cacheBust:!1},b={toSvg:n,toPng:o,toJpeg:i,toBlob:a,toPixelData:r,impl:{fontFaces:m,images:g,util:p,inliner:h,options:{}}};t.exports=b}()}]);